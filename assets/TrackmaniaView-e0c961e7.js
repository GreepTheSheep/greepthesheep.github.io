import{_ as o,o as n,c}from"./index-635b3311.js";const s={data(){return{mapBackground:null,mapBackgroundFallback:{mxID:36270,url:"https://i.imgur.com/f7J7XxF.webp",name:"Opuntia",author:"SlÃ¡ys & htimh"}}},mounted(){window.fetch?this.fetchBackgroundImage():this.setBackgroundImage()},methods:{async fetchBackgroundImage(){let e=await fetch("/api/trackmaniabackgrounds.json");if(!e.ok)return console.error("Error while fecthing backgrounds from API:",e.status,e.statusText),this.setBackgroundImage();let a=await e.json(),t=Object.keys(a),r=this.randomItem(t);this.mapBackground=this.randomItem(a[r]),this.setBackgroundImage(this.mapBackground)},setBackgroundImage(e=this.mapBackgroundFallback){document.querySelector("div#app>canvas").style.background="rgba(0, 0, 0, .65) url("+e.url+")",document.querySelector("div#app>canvas").style.backgroundSize="cover",document.querySelector("div#app>canvas").style.backgroundBlendMode="darken"},removeBackgroundImage(){document.querySelector("div#app>canvas").style.background="",document.querySelector("div#app>canvas").style.backgroundSize="",document.querySelector("div#app>canvas").style.backgroundBlendMode=""},randomItem(e){return e[Math.floor(Math.random()*e.length)]}},unmounted(){this.removeBackgroundImage()}};function d(e,a,t,r,u,m){return n(),c("div")}const l=o(s,[["render",d]]);export{l as default};
